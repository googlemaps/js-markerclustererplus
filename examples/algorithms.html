<!DOCTYPE >
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>MarkerClustererPlus V3 Example</title>

    <style type="text/css">
      .map {
        width: 600px;
        height: 400px;
      }
    </style>

    <script src="https://maps.googleapis.com/maps/api/js?v=weekly&libraries=geometry"></script>
    <script type="text/javascript" src="data.js"></script>
    <script type="text/javascript" src="../dist/index.dev.js"></script>

    <script type="text/javascript">
      function initialize() {
        const center = new google.maps.LatLng(37.4419, -122.1419);

        const markers = [];
        for (var i = 0; i < 100; i++) {
          const { latitude, longitude } = data.photos[i];

          var marker = new google.maps.Marker({
            position: { lat: latitude, lng: longitude },
          });
          markers.push(marker);
        }

        const mapOptions = {
          zoom: 3,
          center,
        };

        [
          [document.getElementById("noop"), new markerClusterer.Noop()],
          [
            document.getElementById("grid"),
            new markerClusterer.Grid({maxDistance: 40000}),
          ],
          [
            document.getElementById("kmeans"),
            new markerClusterer.Kmeans({
              numberOfClusters: 10,
            }),
          ],
        ].forEach(([element, algorithm]) => {
          const markers = [];
          for (var i = 0; i < 100; i++) {
            const { latitude, longitude } = data.photos[i];

            var marker = new google.maps.Marker({
              position: { lat: latitude, lng: longitude },
            });
            markers.push(marker);
          }

          const map = new google.maps.Map(element, mapOptions);

          const markerCluster = new markerClusterer.MarkerClusterer({
            algorithm,
            map,
            markers,
          });
        });
      }
      google.maps.event.addDomListener(window, "load", initialize);
    </script>
  </head>
  <body>
    <h3>Noop</h3>
    <div class="map" id="noop"></div>
    <pre><code>Grid</code></pre>
    <div class="map" id="grid"></div>
    <pre><code>Kmeans({numClusters: 10}})</code></pre>
    <div class="map" id="kmeans"></div>
  </body>
</html>
